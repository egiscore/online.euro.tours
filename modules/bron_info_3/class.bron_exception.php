<?php
 class Bron_Exception extends Samo_Exception { } class Bron_Service_Exception extends Samo_Exception { private $service = null; public function __construct($message, $code, $service) { parent::__construct($message, $code); $this->service = $service; } public function getService() { return (array)$this->service; } } class GDS_Exception extends Bron_Exception { private $gdsResponse = null; public function __construct($message, $response = null) { parent::__construct($message); $this->gdsResponse = $response; } public function getResponse() { return (array)$this->gdsResponse; } public function getSummary() { $return = $this->message; if ($this->gdsResponse) { $return = []; foreach ($this->gdsResponse->Errors as $error) { $return[] = sprintf('[Error %d] %s', $error['Code'], strip_tags($error['Message'])); } $return = implode("\r\n", $return); } return $return; } } 