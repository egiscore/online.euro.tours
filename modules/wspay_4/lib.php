<?php
 function strConv(&$str) { if (is_string($str) && !(trim($str) == '') && !($str == 'null')) { $str = mb_convert_encoding($str, 'UTF-8', 'windows-1251'); } return $str; } function strDeConv(&$str) { if (is_string($str) && !(trim($str) == '') && !($str == 'null')) { $str = mb_convert_encoding($str, 'windows-1251', 'UTF-8'); } return $str; } function object_walk_recursive(& $input, $callback) { if (is_object($input)) { foreach ($input as $prop => & $value) { object_walk_recursive($value, $callback); } } elseif (is_array($input)) { foreach ($input as $key => & $value) { object_walk_recursive($value, $callback); } } else { $callback($input); } } function connectdb() { static $db; if (null === $db) { include_once _ROOT . 'includes/db.php'; $db = db_connect(null, null); return $db; } return $db; } 