
(function($){var container=samo.initModuleContainer('popular_hotel');samo.popular_hotel=function(){var _ROOT_URL=samo.ROUTES.popular_hotel.url,$module_container=container,$period=$module_container.data('period');var controls=samo.cache_controls($module_container);$(controls.resultset).delegate('td','click',function(){var $params={},$tr=$(this).parents('tr:first');$params.HOTELS=$tr.data('hotel');$params.NIGHTS_TILL=$params.NIGHTS_FROM=$tr.data('nights');$params.MEALINC=$tr.data('meal');$params.DOLOAD=1;window.location.href=samo.ROUTES.search_tour.url+$.param($params);}).delegate('td','mouseover',function(){$(this).parent().find('td').addClass('over');}).delegate('td','mouseout',function(){$(this).parent().find('td').removeClass('over');});$('.TOWNFROMINC',$module_container).bind('change',function(){$.getScript(_ROOT_URL+$.param(samo.getParams({samo_action:'TOWNFROMINC',TOWNFROMINC:$(this).val(),PERIOD:$period},$module_container)));});$('.STATEINC',$module_container).bind('change',function(){if(this.value!='0'){$.getScript(_ROOT_URL+$.param(samo.getParams({samo_action:'TOWNFROMINC',TOWNFROMINC:$('.TOWNFROMINC',$module_container).val(),STATEINC:$(this).val(),PERIOD:$period},$module_container)));}});}
$(document).ready(samo.popular_hotel);})(samo.jQuery);