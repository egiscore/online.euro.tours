<?php
 $router = $di->get('router'); $router->add( '/api/([a-z\_-]+)/:params', [ 'controller' => 'api', 'action' => 'getEntity', 'entity' => 1 ] ); $router->add( '/api/([a-z\_-]+)/([a-z\_-]+)/:params', [ 'controller' => 'api', 'action' => 'getEntity', 'entity' => 1, 'method' => 2, 'params' => 3 ] ); $router->add( '/api/doc/([a-z\_-]+)', [ 'controller' => 'api', 'action' => 'doc', 'entity' => 1 ] ); $router->add( '/api/get/([a-z\_-]+)/:params', [ 'controller' => 'api', 'action' => 'get', 'entity' => 1, 'params' => 2 ] ); $router->addGet( '/api/documents/uploaded_document/:params', [ 'controller' => 'errors', 'action' => 'show404' ] ); $router->addGet( '/api/documents/money_back/:params', [ 'controller' => 'errors', 'action' => 'show404' ] ); $router->addGet( '/api/documents/upload_file/:params', [ 'controller' => 'errors', 'action' => 'show404' ] ); $router->addPost( '/api/auth', [ 'controller' => 'api', 'action' => 'auth', ] ); $router->handle(); 